<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Fun</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Cairo:wght@700&display=swap" rel="stylesheet">
<style>
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(to bottom, #333333, #111111); /* Ø®Ù„ÙÙŠØ© Ø±Ù…Ø§Ø¯ÙŠØ© Ù…Ø§Ø¦Ù„Ø© Ù„Ù„Ø³ÙˆØ§Ø¯ */
    color: white;
}

section {
    position: absolute;
    top:0; left:0;
    width:100%;
    height:100%;
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    text-align: center;
    padding:20px;
}

section.active { display:flex; }

h1, p { font-size:28px; margin-bottom:40px; }

button {
    padding:10px 25px;
    font-size:18px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    transition:0.3s;
}

#yes { background:#ff4e8b; color:white; box-shadow:0 0 20px #ff4e8b; }
#no { background:#444; color:white; position:absolute; }

.random-text {
    position:absolute;
    font-size:22px;
    color: rgba(255,255,255,0.9);
    font-family: 'Courier New', monospace;
    z-index:3;
    pointer-events:none;
    user-select:none;
    opacity:0;
    transition: opacity 1.5s ease;
}

#loveText {
    font-size:28px;
    color:#ffdde0;
    margin-top:20px;
    opacity:1;
    transition: opacity 3s ease;
}
</style>
</head>
<body>

<!-- Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠØ© -->
<section id="page1" class="active">
  <p>Ø¹Ø¨Ø§Ù„ÙŠ Ø¨ÙŠÙƒ Ù…ØªØºØ´Ø´Ø© Ù…Ø§ÙƒÙ„Ø§Ù‡ ØªÙƒØ°Ø¨ÙŠ Ø¹Ù„ÙŠ Ùˆ Ø¹Ù„Ù‰ Ø±ÙˆØ­Ùƒ</p>
  <button onclick="showPage(2)">Ø§Ù†Ø§ ÙƒØ°Ø§Ø¨Ø© ØŸØŸ</button>
</section>

<section id="page2">
  <p>Ù‚Ø§Ø³Ø§ØªÙƒ Ø§Ù„Ù‡Ø¯Ø±Ø© ØªØ§Ø¹ÙŠ Ùˆ Ù†Ø±ÙˆÙ…Ø§Ù„Ù…Ùˆ Ù…Ø§Ù†Ù‚ÙˆÙ„Ø´ ÙˆØ´ Ù‚Ù„Øª Ø¨ØµØ­ Ø§Ùˆ Ù†Ø¯ÙŠØ± ÙƒÙ„Ø´ Ø¨Ø´ Ù†Ø±Ø¶ÙŠÙƒ Ù…Ø§Ù†Ù‚Ø¯Ø±Ø´ Ù†Ø®Ù„ÙŠÙƒ Ù†Ù‡Ø§Ø± Ø§ÙˆØ®Ø± Ùˆ Ø§Ù†ØªÙŠ Ø²ÙŠ Ø§Ùƒ Ø§Ø±ÙˆØ­ÙŠ</p>
  <button onclick="showPage(3)">Ø§Ù…Ù…Ù…Ù…</button>
</section>

<section id="page3">
  <p>Ø­Ø§Ø¨ Ù†Ø±Ø¬Ø¹Ùˆ ÙƒÙŠÙ…Ø§ ÙƒÙ†Ø§ ØªÙˆØ­Ø´ØªÙƒ Ø®Ù„Ø§Ù‡ Ø§Ø­ÙŠØ§ØªÙŠ ÙˆØ§Ù„Ù„Ù‡ Ù†Ù‡Ø§Ø±ÙŠ Ø¨Ù„Ø§ Ø¨ÙŠÙƒ Ù…Ø§ÙŠÙÙˆØªØ´</p>
  <button onclick="showPage(4)">Ù„Ø§</button>
</section>

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<section id="page4">
  <h1>ØªØ¨Ø·Ù„ÙŠ Ø§Ù„ØªØ´ÙˆÙƒÙŠØ¹ Ùˆ Ù†Ø±Ø¬Ø¹Ùˆ ØŸ</h1>
  <div id="loveText"></div>
  <button id="yes">Ø§ÙŠÙ‡ ğŸ™„</button>
  <button id="no">Ù…Ø§Ø¹Ø¨Ø§Ù„ÙŠØ´</button>
</section>

<canvas id="fireworks"></canvas>

<script>
/* Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª */
function showPage(num){
    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
    document.getElementById('page'+num).classList.add('active');
}

/* Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª */
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
const loveText = document.getElementById("loveText");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª */
const phrases = [
    "Ù…Ø§ÙƒØ§Ù†Ø´ Ù„Ø§","ğŸ†","ğŸ–•ğŸ»","Ø§Ø²Ø¨ÙŠ Ù†Ø­Ø§ÙˆÙ„ÙˆÙƒ ØŸ","Ø§Ùˆ Ù†ÙŠÙƒÙƒ","Ø§Ø­Ø´Ù…ÙŠ Ø¹Ù„Ù‰ Ø±ÙˆØ­Ùƒ","Ø§Ù…Ø®Ù„ÙˆÙ‚Ø©","Ø§Ù†Ù…ÙŠ ÙˆØ´Ø¨ÙŠÙƒ","ÙˆØ´ÙŠ Ù…Ø§Ø¹Ø¨Ø§Ù„ÙŠØ´ ØªØ§Ø¹Ùƒ"
];
let remainingPhrases = [...phrases];
let canClick = true;

function getNextPhrase(){
    if(remainingPhrases.length===0) remainingPhrases=[...phrases];
    return remainingPhrases.shift();
}

/* Ø­Ø±ÙƒØ© Ø²Ø± Ù…Ø§Ø¹Ø¨Ø§Ù„ÙŠØ´ */
let lastSide = "";
function handleNo(){
    if(!canClick) return; 
    canClick=false;
    setTimeout(()=>{canClick=true},1000); // Ù…Ø¯Ø© Ø§Ù„Ø³Ù…Ø§Ø­

    const yesRect = yesBtn.getBoundingClientRect();
    const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;

    const sides=["left","right","top","bottom"].filter(s=>s!==lastSide);
    const side=sides[Math.floor(Math.random()*sides.length)];
    lastSide=side;

    let newTop,newLeft;
    switch(side){
        case"left":
            newLeft=Math.random()*30; newTop=30+Math.random()*50; break;
        case"right":
            newLeft=65+Math.random()*30; newTop=30+Math.random()*50; break;
        case"top":
            newTop=15+Math.random()*20; newLeft=30+Math.random()*40; break;
        case"bottom":
            newTop=65+Math.random()*25; newLeft=30+Math.random()*40; break;
    }

    const noLeftPx=newLeft/100*window.innerWidth;
    const noTopPx=newTop/100*window.innerHeight;

    if(!(noLeftPx<yesRect.right+10 && noLeftPx+btnWidth>yesRect.left-10 &&
         noTopPx<yesRect.bottom+10 && noTopPx+btnHeight>yesRect.top-10)){
        noBtn.style.top=newTop+"%";
        noBtn.style.left=newLeft+"%";
    }

    // Ø¹Ø±Ø¶ ÙƒÙ„Ù…Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ÙÙŠ Ø§Ù„Ù†ØµÙ Ø§Ù„Ø³ÙÙ„ÙŠ
    const text=document.createElement("div");
    text.classList.add("random-text");
    text.innerText=getNextPhrase();
    const randLeft = 10 + Math.random()*80; 
    const randTop = 55 + Math.random()*40; 
    text.style.top=randTop+"%";
    text.style.left=randLeft+"%";
    document.body.appendChild(text);
    setTimeout(()=>{text.style.opacity=1;},50);
    setTimeout(()=>{text.style.opacity=0;},2000);
    setTimeout(()=>text.remove(),2500);
}

noBtn.addEventListener("mouseover", handleNo);
noBtn.addEventListener("click", handleNo);

/* Ø£Ù„Ø¹Ø§Ø¨ Ù†Ø§Ø±ÙŠØ© + Ù†Øµ Ù†Ø­Ø¨Ùƒ Ø§Ø±ÙˆØ­ÙŠ Ø¹Ù†Ø¯ Ø§ÙŠÙ‡ ğŸ™„ */
yesBtn.addEventListener("click",()=>{
    loveText.innerText="Ù†Ø­Ø¨Ùƒ Ø§Ø±ÙˆØ­ÙŠ";
    loveText.style.opacity=1;
    setTimeout(()=>{loveText.style.opacity=0;},4500);

    const particles=[];
    const colors=["#ff0","#ff4e8b","#ff8800","#00ffcc","#00ff88","#6600ff"];

    for(let i=0;i<300;i++){
        particles.push({
            x:canvas.width/2,
            y:canvas.height/2,
            vx:(Math.random()-0.5)*15,
            vy:(Math.random()-0.5)*15,
            color:colors[Math.floor(Math.random()*colors.length)],
            life:150
        });
    }

    function animate(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        let alive=false;
        for(let p of particles){
            if(p.life>0){
                alive=true;
                ctx.beginPath();
                ctx.moveTo(p.x,p.y);
                ctx.lineTo(p.x+p.vx*5,p.y+p.vy*5);
                ctx.strokeStyle=p.color;
                ctx.lineWidth=2;
                ctx.stroke();
                p.x+=p.vx;
                p.y+=p.vy;
                p.vy+=0.1;
                p.life--;
            }
        }
        if(alive) requestAnimationFrame(animate);
    }
    animate();
});
</script>
</body>
</html>